<div class="row h-100 justify-content-center align-items-center" *ngIf="!estado">
    <div class="fa-4x">
        <i class="fas fa-spinner fa-spin"></i>
    </div>
</div>
<div class="col-lg-12 mx-auto" *ngIf="estado">
    <button class="btn btn-dark mb-4" data-bs-toggle="modal" data-bs-target="#cambio" data-bs-whatever="@getbootstrap">
        Cambiar Contraseña
    </button>
    <div class="card">
        <div class="card-header">
            <i class="fas fa-times fa-lg float-right my-auto py-auto"
                style="color: #EA320B;display: inline-block;cursor: pointer;" (click)="volver()"></i>
            <h4 style="color: #EA320B;">Perfil Empleado</h4>
        </div>
        <div class="card-body container">
            <form [formGroup]="nuevoEmp" class='row'>
                <div class="col-lg-6 p-2">
                    <div class="form-group">
                        <label for="">Nombre Empleado</label>
                        <input type="text" [class.is-invalid]="nombreNoValido" class="form-control"
                            placeholder="Nombres" formControlName='nom_user'>
                        <small *ngIf="nombreNoValido" class="text-danger">
                            Campo invalido
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="">Apellido Empleado</label>
                        <input class="form-control" [class.is-invalid]="apellidonNoValido" placeholder="Apellidos"
                            formControlName='ape_user'>
                        <small *ngIf="apellidonNoValido" class="text-danger">
                            Campo invalido
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="">Email Empleado</label>
                        <input type="text" [class.is-invalid]="emailNoValido" step="any" class="form-control"
                            placeholder="Email" formControlName='email'>
                        <small *ngIf="emailNoValido" class="text-danger">
                            Campo invalido
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="">Rol Empleado</label>
                        <select disabled class='custom-select' [class.is-invalid]="idRolNoValido"
                            formControlName='id_rol'>
                            <option *ngFor='let c of listaRoles' value="{{c.id_rol}}">{{c.nombre_rol}}</option>
                        </select>
                        <small *ngIf="idRolNoValido" class="text-danger">
                            Campo invalido
                        </small>
                    </div>
                </div>
                <div class="col-lg-6 p-2">
                    <div class="form-group">
                        <label for="">Tipo Documento</label>
                        <select class='custom-select' disabled [class.is-invalid]="idTipNoValido"
                            formControlName='id_tip'>
                            <option *ngFor='let c of listaTiposDocIdent' value="{{c.id_tip}}">{{c.descrip_tip}}</option>
                        </select>
                        <small *ngIf="idTipNoValido" class="text-danger">
                            Campo invalido
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="">N° Documento Empleado</label>
                        <input class="form-control" type="text" (keypress)="soloNumeros($event)"
                            [class.is-invalid]="numDniUserNoValido" placeholder="Numero documento dni"
                            formControlName='num_dni'>
                        <small *ngIf="numDniUserNoValido" class="text-danger">
                            Campo invalido
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="">Telefono Empleado</label>
                        <input class="form-control" (keypress)="soloNumeros($event)" type="text"
                            [class.is-invalid]="telefonoNoValido" placeholder="Telefono"
                            formControlName='telefono_user'>
                        <small *ngIf="telefonoNoValido" class="text-danger">
                            Ingrese numero valido de 9 digitos
                        </small>
                    </div>
                    <div class="form-group">
                        <label for="">Direccion Empleado</label>
                        <input class="form-control" type="text" [class.is-invalid]="direccionNoValido"
                            placeholder="Direccion" formControlName='direcc_user'>
                        <small *ngIf="direccionNoValido" class="text-danger">
                            Campo invalido
                        </small>
                    </div>
                </div>
                <button class="btn boton-rojo btn-block" (click)="editar()">
                    Actualizar
                </button>
            </form>
        </div>
    </div>
</div>
<div class="modal fade" id="cambio" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header bg-light">
                <h5 class="modal-title" id="exampleModalLabel" style="color: red;font-weight: bold;">CAMBIO DE CONTRASEÑA</h5>
                <button type="button" class="bg-light cerrar" style="border: 0px;font-size: 25px;" data-bs-dismiss="modal" (click)="cerrarModal()">
                    <span aria-hidden="true" class="">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <form [formGroup]="cambioContra">
                    <div class="mb-3">
                        <label for="recipient-name" class="col-form-label">Contraseña actual:</label>                         
                        <div class="input-group mb-0">
                            <input [class.is-invalid]="pass1NoValido" [type]="isblock1 ? 'password' : 'text'" class="form-control pl-3" id="pass1" formControlName="pass1">
                            <div class="input-group-prepend" (click)="ocultar(1)">
                                <div class="input-group-text px-3 press" style="background: #EA320B;">
                                    <span  class="fa icon" [class]="isblock1 ? 'fa-eye-slash' : 'fa-eye'"></span>
                                </div>
                            </div>
                        </div> 
                        <small *ngIf="pass1NoValido" class="text-danger">
                            Campo invalido
                        </small>                       
                    </div>
                    <div class="mb-3">
                        <label for="message-text" class="col-form-label">Nueva contraseña (tamaño min 8):</label>                       
                        <div class="input-group mb-0">
                            <input [class.is-invalid]="pass2NoValido" [type]="isblock2 ? 'password' : 'text'" class="form-control pl-3" id="pass2" formControlName="pass2">
                            <div class="input-group-prepend" (click)="ocultar(2)">
                                <div class="input-group-text px-3 press" style="background: #EA320B;">
                                    <span  class="fa icon" [class]="isblock2 ? 'fa-eye-slash' : 'fa-eye'"></span>
                                </div>
                            </div>
                        </div>
                        <small *ngIf="pass2NoValido" class="text-danger">
                            La contraseña debe tener Mayúsculas, Minúsculas, Dígito y Símbolo
                        </small>   
                    </div>
                    <div class="mb-0">
                        <label for="message-text" class="col-form-label">Confirmar contraseña (tamaño min 8):</label>
                        <div class="input-group mb-3">
                            <input [class.is-invalid]="pass3NoValido" [type]="isblock3 ? 'password' : 'text'" class="form-control pl-3" id="pass3" formControlName="pass3">
                            <div class="input-group-prepend" (click)="ocultar(3)">
                                <div class="input-group-text px-3 press" style="background: #EA320B;">
                                    <span  class="fa icon" [class]="isblock3 ? 'fa-eye-slash' : 'fa-eye'"></span>
                                </div>
                            </div>
                        </div>
                        <small *ngIf="pass3NoValido" class="text-danger">
                            La contraseña debe tener Mayúsculas, Minúsculas, Dígito y Símbolo
                        </small>   
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal"
                    (click)="cerrarModal()">Cancelar</button>
                <button type="button" class="btn btn-outline-success" (click)="cambiarPass()">Cambiar</button>
            </div>
        </div>
    </div>
</div>