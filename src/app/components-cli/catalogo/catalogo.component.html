<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <title>Document</title>
</head>

<body>
  <!-- Navbar -->
  <nav class="fixed-top navbar navbar-expand-lg navbar-light white
d-flex justify-content-lg-end scrolling-navbar p-2">
    <div class="">
      <!-- Collapse -->
      <button class="navbar-toggler" type="button" (click)="show2=!show2">
        <i class="fas fa-bars" style="color: red;"></i>
      </button>
      <!-- Links -->
      <div class="collapse navbar-collapse" id="navbarSupportedContent" [ngClass]="{'show' : show2}">
        <ul class="navbar-nav mr-auto ">
          <li class="nav-item">
            <button class="btn btn-outline-success" data-bs-toggle="modal" data-bs-target="#login"
              data-bs-whatever="@mdo" *ngIf="!clienteService.clientelog">Ingresar</button>
          </li>
          <li class="nav-item">
            <button class="btn btn-outline-warning">Registrar</button>
          </li>
        </ul>
        <!-- Left -->
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link waves-effect">
              <span class="badge red z-depth-1 mr-1"> 1 </span>
              <i class="fas fa-shopping-cart" style="color: #EA320B;"></i>
              <span class="clearfix d-none d-sm-inline-block" (click)="irCompras()"> Carrito </span>
            </a>
          </li>
          <li *ngIf="clienteService.clientelog" class="nav-item nav-profile dropdown mr-5" ngbDropdown>
            <a class="nav-link dropdown-toggle" id="profileDropdown" ngbDropdownToggle>
              {{clienteService.clientelog.nom_cli}}
            </a>
            <ul class="dropdown-menu navbar-dropdown" ngbDropdownMenu aria-labelledby="profileDropdown">
              <li>
                <a class="dropdown-item">
                  <i class="fas fa-list" style="color: #EA320B;"></i>
                  Mis pedidos
                </a>
                <a class="dropdown-item">
                  <i class="fas fa-user" style="color: #EA320B;"></i>
                  Perfil
                </a>
                <a class="dropdown-item">
                  <i class="fas fa-sign-out-alt" style="color: #EA320B;"></i>
                  Salir
                </a>
              </li>
            </ul>            
          </li>
        </ul>
        <ul class="navbar-nav mr-auto ">
          <li class="nav-item">
            <button *ngIf="clienteService.clientelog" class="btn btn-outline-danger" (click)="salir()">Salir</button>
          </li>          
        </ul>

      </div>

    </div>
  </nav> <br /><br /><br /><br />
  <!-- Navbar -->

  <!--Carousel Wrapper-->
  <div class="carousel slide mt-3" id="principal-carousel" data-ride="carousel">
    <div class="carousel-inner p-0">
      <div class="carousel-item active row p-0 m-0" style="position: relative;">
        <div style="height: 40px;background: black;position: absolute;"></div>
        <img src="../../../assets/images/banner.jpg" class="p-0 m-0 col-md-12 bannerImg" alt="">
      </div>
    </div>
  </div>
  <!--/.Carousel Wrapper-->

  <main>
    <div class="mx-5">
      <div class="alert fade show d-flex justify-content-center align-items-center" role="alert"
        *ngIf="compraService.agregado"
        style="width: 100%;height: 40px;margin-top: 0px;text-align: center;background: #5cb85c;">
        <strong>Producto agregado!</strong>
      </div>
      <!--Navbar-->
      <nav class="navbar navbar-expand-lg  mt-3 mb-5" style="background: #EA320B;">

        <!-- Navbar brand -->
        <span class="navbar-brand" style="color: #ffffff;">Categorias:</span>

        <!-- Collapse button -->
        <button class="navbar-toggler" type="button" (click)="show=!show">
          <i class="fas fa-bars" style="color: #ffffff;"></i>
        </button>

        <!-- Collapsible content -->

        <div class="collapse navbar-collapse" id="basicExampleNav" [ngClass]="{'show' : show}">

          <!-- Links -->
          <ul class="navbar-nav mr-auto" style="color: #ffffff;">
            <li class="nav-item as">
              <a class="nav-link" (click)="listarProductos()" [ngClass]="{'seleccionado': seleccionado === 0}">Todos
              </a>
            </li>
            <li class="nav-item as" [ngClass]="{'seleccionado': seleccionado === c.id_cat}"
              *ngFor="let c of listaCategoria;let i = index;">
              <a class="nav-link" *ngIf="i<7" (click)="filtrarXcat(c.id_cat)">{{c.nom_cat}}
              </a>
            </li>
            <li class="nav-item nav-profile dropdown" ngbDropdown>
              <a class="nav-link dropdown-toggle" id="profileDropdown" ngbDropdownToggle>
                otros
              </a>
              <ul class="dropdown-menu navbar-dropdown" ngbDropdownMenu aria-labelledby="profileDropdown"
                style="background: #EA320B;">
                <li [ngClass]="{'seleccionado': seleccionado === c.id_cat}" class="sd"
                  *ngFor="let c of listaCategoria;let i =index">
                  <a class="dropdown-item" *ngIf="i>=7" (click)="filtrarXcat(c.id_cat)">
                    {{c.nom_cat}}
                  </a>
                </li>
              </ul>
            </li>
          </ul>
          <!-- Links -->

          <form class="form-inline">
            <div class="md-form my-0">
              <input class="form-control mr-sm-2" [(ngModel)]="texto" [ngModelOptions]="{standalone: true}"
                (keyup)="buscar()" type="text" placeholder="Buscar.." aria-label="Search">
            </div>
          </form>
        </div>
        <!-- Collapsible content -->

      </nav>
      <!--/.Navbar-->

      <!--Section: Products v.3-->
      <section class="text-center mb-4">
        <!--Grid row-->
        <div class="row wow fadeIn">
          <!--Grid column-->
          <div class="col-lg-3 col-md-6 mb-4"
            *ngFor="let u of listaFiltroTexto | paginate: {itemsPerPage : 12, currentPage : pageActual}"
            [ngStyle]="{'display':u.stock_prod == 0 || u.cant_img != 5 ? 'none' : '' }">
            <!--Card-->
            <div class="card ">
              <!--Card image-->
              <div class="view overlay py-3 px-auto">
                <div>
                  <img style="height: 200px;width: 200px;"
                    src="http://192.168.1.13:1151/api/producto/verArchivo/{{u.nom_producto}}"
                    class="card-img-top mx-auto" alt="">
                </div>
                <a>
                  <div class="mask rgba-white-slight"></div>
                </a>
              </div>
              <!--Card image-->

              <!--Card content-->
              <div class="card-body text-center pt-0 pb-3">
                <!--Category & Title-->
                <h5 class="grey-text">{{u.nom_cat}}</h5>

                <h5>
                  <strong class="dark-grey-text">
                    {{u.nom_prod}}
                    <!--<span class="badge badge-pill danger-color">NEW</span>-->

                  </strong>
                </h5>
                <h4 class="font-weight-bold red-text">
                  <strong>S/. {{u.precio_unit_prod}} </strong>
                </h4>
                <button type="button" class="btn btn-outline-primary btn-block px-3" data-bs-toggle="modal"
                  data-bs-target="#cantPrecio" (click)="agregar(u)" data-bs-whatever="@getbootstrap">
                  Añadir</button>

              </div>
              <!--Card content-->

            </div>
            <!--Card-->
          </div>
          <!--Grid column-->
        </div>
        <!--Grid row-->
        <pagination-controls class="custom-pagination" previousLabel="Anterior" nextLabel="Siguiente" responsive="true"
          (pageChange)="pageActual = $event"></pagination-controls>
      </section>
      <!--Section: Products v.3-->

    </div>
  </main>

  <div class="modal fade" id="login" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered ">
      <div class="modal-content p-0" style="border-radius: 20px;">        
        <div class="modal-body m-0 p-0">
          <button type="button" hidden class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          <div class="card login-card">
            <div class="row no-gutters mx-3">              
              <div class="col-md-12 ">
                <div class="card-body py-5">
                  <div class="brand-wrapper">
                    <img src="../../../assets/images/logoTrinket.png" alt="logo" class="logo">
                    Trinket Cloud Sales
                  </div>
                  <p class="login-card-description">Ingrese</p>
                  <form [formGroup]="forma">
                      <div class="mb-3">
                        <label style="display: block;">Usuario</label>
                        <small *ngIf="usuarioNoValido" class="text-danger">
                          Campo invalido
                        </small>
                        <input type="text" [class.is-invalid]="usuarioNoValido" formControlName="usuario" class="form-control" placeholder="Usuario">                        
                      </div>
                      <div class="mb-3">
                        <label style="display: block;" for="recipient-name" class="col-form-label">Contraseña:</label>  
                        <small *ngIf="passNoValido" class="text-danger">
                          Campo invalido
                        </small>                       
                        <div class="input-group mb-3 p-0" >
                            <input [class.is-invalid]="passNoValido" (keyup.enter)="login()"  [type]="isblock ? 'password' : 'text'" class="form-control pl-3"
                            placeholder="************" formControlName="pass">
                            <div class="input-group-prepend" (click)="ocultar(1)" style="max-height: 50px;">
                                <div class="input-group-text px-3 press" style="background: #EA320B;">
                                    <span  class="fa icon" [class]="isblock ? 'fa-eye-slash' : 'fa-eye'"></span>
                                </div>
                            </div>                            
                        </div>                                                                       
                    </div>                      
                      <button class="btn btn-block btn-danger mb-4" type="button" (click)="login()">
                        Ingresar</button>
                    </form>
                    <a href="#!" class="forgot-password-link">Olvidaste tu contraseña?</a>
                    <p class="login-card-footer-text">No tienes cuenta? <a href="#!" class="text-reset">Registrate</a></p>                    
                </div>
              </div>
            </div>
          </div>
        </div>        
      </div>
    </div>
  </div>
  
</body>

</html>